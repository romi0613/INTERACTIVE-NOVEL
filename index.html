<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="prefetch" href="Start.html">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>INTERACTIVE NOVEL — 메인화면</title>
  <style>
    /* Pretendard */
    @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css");

    :root{
      --ink:#ece6db;
      --ink-dim:#cfc8b9;
      --accent:#fff6e6;
      --stroke:#ffffff25;
      --focus:#ffe1a6;
      --card-bg: rgba(10,10,10,.26);
      --card-grad: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
      --pv-gap: 40px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Pretendard', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color:var(--ink);
      background:#000;
      overflow:hidden;
    }

    /* ===== 배경 ===== */
    .bg{
      position:fixed; inset:0;
      background:url('배경.jpg') center/cover no-repeat;
      transform-origin:center;
      will-change:transform;
      animation:cam 40s ease-in-out infinite alternate;
      filter:contrast(1.02) saturate(0.96);
    }
    @keyframes cam{
      0%{transform:scale(1.01) translate(0,0) rotate(0deg)}
      50%{transform:scale(1.03) translate(.5%,-.6%) rotate(.15deg)}
      100%{transform:scale(1.02) translate(-.6%,.6%) rotate(-.15deg)}
    }
    .shade{
      position:fixed; inset:0; pointer-events:none;
      background:linear-gradient(90deg,
        rgba(0,0,0,.55) 0%,
        rgba(0,0,0,.30) 35%,
        rgba(0,0,0,.12) 60%,
        rgba(0,0,0,.36) 100%);
    }
    .vignette{
      position:fixed; inset:0; pointer-events:none;
      background:radial-gradient(70% 70% at 50% 50%,
        rgba(0,0,0,0) 58%,
        rgba(0,0,0,.45) 100%);
    }
    .flicker{
      position:fixed; inset:0; pointer-events:none;
      mix-blend-mode:screen;
      background:transparent;
      animation:flick 6s ease-in-out infinite;
    }
    @keyframes flick{
      0%,100%{background:rgba(255,220,150,.03)}
      40%{background:rgba(255,220,150,.08)}
      50%{background:rgba(255,220,150,.015)}
      60%{background:rgba(255,220,150,.06)}
    }

    /* 먼지 */
    .dust{
      position:fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .dust span{
      position:absolute;
      width:2px; height:2px;
      background:#fff;
      border-radius:50%;
      opacity:.06;
      filter:blur(.3px);
      animation:float 18s linear infinite;
    }
    @keyframes float{
      from{transform:translate3d(var(--x,0),110vh,0)}
      to{transform:translate3d(calc(var(--x,0) + 10vw),-10vh,0)}
    }

    /* ===== 레이아웃 ===== */
    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
    }

    header.title{
      position:absolute;
      left:50%; top:16vh;
      transform:translateX(-50%);
      text-align:center;
      opacity:0;
      animation:fadeIn .9s ease .2s forwards;
    }
    header.title h1{
      margin:0 0 6px;
      font-size:clamp(28px,4.4vw,56px);
      letter-spacing:1.5px;
      color:var(--accent);
      text-shadow:0 2px 12px #000a;
      animation:glow 4.8s ease-in-out infinite;
    }
    header.title p{
      margin:0;
      color:var(--ink-dim);
    }
    @keyframes fadeIn{
      to{opacity:1; transform:translate(-50%,0)}
    }
    @keyframes glow{
      0%,100%{text-shadow:0 2px 12px #000a}
      50%{text-shadow:0 2px 22px #000c, 0 0 18px #ffe7b533}
    }

    /* ===== 메뉴 버튼 스택 ===== */
    nav.menu{
      position:absolute;
      right:min(10vw,160px);
      top:50%;
      transform:translateY(-50%);
      display:flex;
      flex-direction:column;
      gap:14px;
      opacity:0;
      animation:slideIn .6s ease .4s forwards, breathe 8s ease-in-out infinite;
    }
    @keyframes slideIn{
      from{opacity:0; transform:translateY(-40%)}
      to{opacity:1; transform:translateY(-50%)}
    }
    @keyframes breathe{
      0%,100%{transform:translateY(-50%)}
      50%{transform:translateY(calc(-50% + 4px))}
    }

    .btn,
    .preview-cta{
      position:relative;
      display:flex;
      align-items:flex-start;
      gap:12px;
      width:min(300px,36vw);
      padding:12px 16px;
      background:var(--card-bg);
      border:1px solid var(--stroke);
      color:var(--ink-dim);
      text-align:left;
      cursor:pointer;
      font-size:14px;
      backdrop-filter: blur(2px);
      border-radius:10px;
      overflow:hidden;
      transition:.18s;
      text-decoration:none;
    }
    .btn::before,
    .preview-cta::before{
      content:''; position:absolute;
      inset:0 0 auto 0;
      height:40%;
      background:var(--card-grad);
      pointer-events:none;
    }

    .btn .ico{
      width:18px; height:18px;
      opacity:.9;
      flex:0 0 auto;
      margin-top:2px;
    }
    .btn .label{
      flex:1 1 auto;
      color:#efe7d8;
      text-decoration:none;
    }

    .btn:hover,
    .preview-cta:hover{
      transform:translateX(6px);
      color:#fff;
      border-color:#ffffff55;
      background:rgba(0,0,0,.28);
      box-shadow:0 6px 22px rgba(0,0,0,.22), 0 0 20px #ffe1a614;
    }
    .btn:focus{
      outline:2px solid var(--focus);
      outline-offset:2px;
    }

    /* ===== 미리보기 카드 ===== */
    .preview-cta{
      flex-direction:column;
      align-items:flex-start;
      gap:4px;
      color:#fff;
      box-shadow:0 10px 40px rgba(0,0,0,.35), 0 0 28px #ffe1a620;
    }
    .preview-cta .cta-badge{
      display:inline-block;
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      padding:3px 8px;
      border-radius:999px;
      background:#1a1a1a;
      border:1px solid #ffffff33;
      color:#ffe8bf;
      box-shadow:0 0 0 1px #000 inset;
    }
    .preview-cta .cta-title{
      font-size:15px;
      font-weight:600;
      letter-spacing:.02em;
    }
    .preview-cta .cta-sub{
      font-size:13px;
      opacity:.9;
      color:#e9dfcd;
    }
    .preview-cta .cta-hint{
      margin-top:4px;
      font-size:12px;
      color:#cfc6b7;
      opacity:.9;
    }
    .preview-cta kbd{
      font:12px/1 monospace;
      padding:2px 6px;
      border-radius:6px;
      border:1px solid #ffffff38;
      background:#0b0b0bcc;
    }

    .notice{
      position:fixed;
      left:0; right:0; bottom:16px;
      text-align:center;
      font-size:12px;
      color:#bfb7a8;
      text-shadow:0 1px 6px #0009;
    }

    /* ===== 로딩 오버레이 ===== */
    .loader{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background:#000;
      z-index:70;
    }
    .loader.active{display:grid}
    .loader .panel{
      position:relative;
      width:min(1000px,90vw);
      height:min(560px,58vh);
      background:url('로딩.png') center/cover no-repeat;
      border:1px solid #ffffff22;
      box-shadow:0 24px 80px #000a;
      overflow:hidden;
    }
    .loader .panel::after{
      content:''; position:absolute; inset:0;
      background:rgba(0,0,0,.46);
      box-shadow:inset 0 0 140px #000a;
    }
    .progress{
      position:absolute;
      left:0; right:0; bottom:0;
      padding:18px 20px;
      display:grid;
      gap:10px;
      z-index:2;
      background:linear-gradient(180deg,
        rgba(0,0,0,.05),
        rgba(0,0,0,.46));
      backdrop-filter: blur(2px);
    }
    .bar{
      height:10px;
      border:1px solid #ffffff33;
      background:rgba(255,255,255,.08);
      position:relative;
      overflow:hidden;
    }
    .bar>span{
      position:absolute;
      left:0; top:0; bottom:0;
      width:0%;
      background:linear-gradient(90deg,#ffe1a6,#ffd07a);
      box-shadow:0 0 16px #ffe1a655;
      transition:width .2s ease;
    }
    .bar>span::after{
      content:''; position:absolute; inset:0;
      background:repeating-linear-gradient(45deg,
        rgba(255,255,255,.25) 0 8px,
        rgba(255,255,255,0) 8px 16px);
      mix-blend-mode:overlay;
      animation:stripe 1s linear infinite;
    }
    @keyframes stripe{to{transform:translateX(16px)}}
    .progress .meta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:#e9e1d1;
      font-size:14px;
    }
    .progress .meta .right{opacity:.85}

    /* ===== 미리보기 모달 ===== */
    .preview-backdrop{
      position:fixed; inset:0;
      background:#0008;
      backdrop-filter:blur(2px);
      opacity:0;
      pointer-events:none;
      transition:.25s ease;
      z-index:60;
    }
    .preview-backdrop.open{
      opacity:1;
      pointer-events:auto;
    }

    .preview-sheet{
      position:fixed;
      inset:0;
      margin:auto;
      max-width:980px;
      height:auto;
      max-height:92vh;
      background:#141414;
      border-radius:10px;
      border:1px solid #ffffff22;
      box-shadow:0 26px 80px #000;
      color:#f2eee5;
      transform:translateY(6%);
      opacity:0;
      pointer-events:none;
      transition:opacity .25s ease, transform .25s ease;
      z-index:61;
      display:flex;
      flex-direction:column;
      overflow-y:auto;
    }
    .preview-sheet.open{
      opacity:1;
      transform:translateY(0);
      pointer-events:auto;
    }

    .preview-wrap{
      flex:1;
      display:flex;
      flex-direction:column;
    }

    .pv-head{
      flex:0 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 16px;
      border-bottom:1px solid #ffffff1a;
      background:linear-gradient(90deg,#101010,#141414);
      font-size:14px;
    }
    .pv-head-title{
      font-weight:600;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:12px;
      color:#f0e6d8;
    }
    .pv-head-close{
      background:none;
      border:1px solid #ffffff33;
      color:#f5f2ea;
      border-radius:6px;
      padding:4px 10px;
      font-size:12px;
      cursor:pointer;
    }
    .pv-head-close:hover{
      background:#ffffff22;
    }

    .pv-content{
      flex:1 1 auto;
      padding:16px 20px 18px;
      overflow-y:auto;
      -webkit-overflow-scrolling:touch;
      font-size:14px;
    }

    /* 상단 섹션 */
    .pv-top{
      display:grid;
      grid-template-columns:minmax(0,2.4fr) minmax(220px,1.5fr);
      gap:24px;
      align-items:flex-start;
    }

    .pv-tag{
      display:inline-block;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid #ffffff2e;
      background:#181818;
      color:#f5e1b7;
      margin-bottom:8px;
    }

    .pv-title{
      margin:0 0 4px;
      font-size:18px;
      font-weight:600;
    }
    .pv-sub{
      margin:0 0 6px;
      font-size:13px;
      color:#d8d0c1;
    }
    .pv-desc{
      margin:0 0 10px;
      color:#cfc7ba;
      line-height:1.6;
      font-size:13px;
    }

    .pv-chip-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:10px;
    }
    .pv-chip{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      background:#1b1b1b;
      border:1px solid #ffffff1f;
      color:#e9e0d0;
    }

    .pv-scene{
      position:relative;
      margin-top:6px;
      border-radius:6px;
      border:1px solid #ffffff22;
      overflow:hidden;
      background:#000;
      aspect-ratio:16/9;
      box-shadow:0 10px 30px #000a;
    }
    .pv-still{
      position:absolute; inset:0;
      background:url('선택1.png') center/cover no-repeat;
      filter:brightness(.95) contrast(1.03);
    }
    .pv-overlay{
      position:absolute;
      left:0; right:0; bottom:0;
      padding:8px 10px;
      background:linear-gradient(180deg,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.75) 70%,
        rgba(0,0,0,.9) 100%);
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .pv-choice-timer{
      height:4px;
      border-radius:999px;
      background:rgba(255,255,255,.18);
      overflow:hidden;
    }
    .pv-choice-timer span{
      display:block;
      width:100%; height:100%;
      background:#f5f0e0;
      transform-origin:left;
      transform:scaleX(1);
    }
    .pv-choice-buttons{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:4px;
      margin-top:4px;
    }
    .pv-choice-buttons button{
      border:none;
      border-radius:4px;
      padding:8px 6px;
      font-size:13px;
      background:rgba(32,32,32,.9);
      color:#fefaf0;
      cursor:default;
      transition:background .18s ease, box-shadow .18s ease, transform .18s ease;
    }
    .pv-choice-buttons button.active{
      background:linear-gradient(90deg,#f8e4b9,#f1cf88);
      color:#161310;
      box-shadow:0 0 0 1px #000 inset, 0 0 18px rgba(255,225,160,.35);
      transform:translateY(-1px);
    }

    .pv-help{
      margin:6px 2px 0;
      font-size:11px;
      color:#d6cfc2;
      opacity:.9;
    }

    .pv-caption{
      margin:6px 0 0;
      font-size:11px;
      color:#a79f91;
    }

    /* 우측 사이드 설명 */
    .pv-side{
      font-size:12px;
      line-height:1.7;
      color:#d1c9bc;
      background:#111;
      border-radius:8px;
      border:1px solid #ffffff1c;
      padding:10px 12px 12px;
      box-shadow:0 12px 32px #000b;
    }
    .pv-side-title{
      margin:0 0 6px;
      font-size:13px;
      font-weight:600;
    }
    .pv-steps{
      list-style:none;
      margin:0 0 10px;
      padding:0;
    }
    .pv-steps li{
      display:flex;
      align-items:flex-start;
      gap:6px;
      margin-bottom:4px;
    }
    .step-dot{
      flex:0 0 auto;
      width:16px; height:16px;
      border-radius:999px;
      border:1px solid #ffffff55;
      font-size:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#f7e5bc;
      margin-top:2px;
    }

    .pv-shortcuts{
      border-top:1px dashed #ffffff24;
      padding-top:8px;
      margin-top:4px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .shortcut-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:6px;
    }
    .shortcut-label{
      color:#c8c0b0;
    }
    .shortcut-keys kbd{
      font:11px/1 monospace;
      padding:3px 5px;
      border-radius:4px;
      border:1px solid #ffffff40;
      background:#181818;
      margin-left:2px;
      color:#f5f0e2;
      box-shadow:0 1px 0 #000;
    }

    /* 하단: 설명 + 영상 중앙 정렬 */
    .pv-divider{
      margin-top:26px;
      margin-bottom:14px;
      text-align:center;
      position:relative;
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#a79f90;
    }
    .pv-divider::before,
    .pv-divider::after{
      content:"";
      position:absolute;
      top:50%;
      width:30%;
      height:1px;
      background:#ffffff22;
    }
    .pv-divider::before{left:6%}
    .pv-divider::after{right:6%}

    .pv-bottom{
      margin-top:0;
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:16px;
    }
    .pv-bottom-left{
      max-width:720px;
    }
    .pv-bottom-left h3{
      margin:0 0 6px;
      font-size:15px;
      font-weight:600;
    }
    .pv-bottom-left p{
      margin:0;
      color:#d6cfc2;
      line-height:1.7;
      font-size:13px;
    }
/* 예고편 영상: 패널 양 끝까지 꽉 차게 */
.video-wrap{
  position:relative;

  /* pv-content의 좌우 padding(20px)을 무시하고 꽉 차게 */
  width:calc(100% + 40px);
  margin:10px -20px 0;   /* left/right -20px */

  aspect-ratio:16/9;
  max-width:none;

  border-radius:0 0 10px 10px;          /* 위쪽은 텍스트, 아래쪽만 둥글게 */
  border-top:1px solid #ffffff22;
  border-bottom:1px solid #ffffff22;

  overflow:hidden;
  box-shadow:0 16px 40px #000c;
  background:#000;
}

.video-wrap video{
  width:100%;
  height:100%;
  display:block;
  background:#000;
}

  
/* ===== 추가 유튜브 클립 섹션 ===== */
.pv-extra{
  margin-top:32px;
  padding:20px 0 4px;
  border-top:1px solid #ffffff18;
}

.pv-extra-header{
  text-align:center;
  margin-bottom:18px;
}

.pv-extra-eyebrow{
  font-size:11px;
  letter-spacing:.18em;
  text-transform:uppercase;
  color:#a79f90;
}

.pv-extra-title{
  margin:4px 0 4px;
  font-size:15px;
  font-weight:600;
}

.pv-extra-sub{
  margin:0;
  font-size:12px;
  color:#cfc7ba;
}

/* 카드 그리드 */
.pv-extra-grid{
  display:grid;
  grid-template-columns:repeat(3, minmax(0,1fr));
  gap:14px;
}

/* 유튜브 카드 */
.pv-extra-card{
  position:relative;
  display:flex;
  flex-direction:column;
  background:#111;
  border-radius:10px;
  border:1px solid #ffffff15;
  overflow:hidden;
  text-decoration:none;
  color:inherit;
  cursor:pointer;
  transition:
    transform .16s ease,
    box-shadow .16s ease,
    border-color .16s ease,
    background .16s ease;
}

.pv-extra-card:hover{
  transform:translateY(-2px);
  box-shadow:0 14px 38px #000c;
  border-color:#ffffff33;
  background:#141414;
}

/* 썸네일 */
.pv-extra-thumb{
  position:relative;
  aspect-ratio:16/9;
  background:#000 center/cover no-repeat;
}

/* 재생 아이콘 */
.pv-extra-thumb::after{
  content:"";
  position:absolute;
  left:50%; top:50%;
  width:46px; height:46px;
  border-radius:50%;
  border:1px solid #ffffffaa;
  box-shadow:0 0 18px #000a;
  background:radial-gradient(circle at 30% 30%, #ffffff, #f3d49a);
  transform:translate(-50%,-50%);
  mask:
    radial-gradient(circle 22px at center, transparent 21px, #000 21px) subtract,
    linear-gradient(90deg, transparent 44%, #000 44%);
}

.pv-extra-body{
  padding:9px 10px 10px;
}

.pv-extra-card-title{
  margin:0 0 2px;
  font-size:13px;
  font-weight:600;
}

.pv-extra-meta{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  font-size:11px;
  color:#a99f90;
}

.pv-extra-pill{
  padding:2px 6px;
  border-radius:999px;
  border:1px solid #ffffff22;
  background:#181818;
}

/* 유튜브 새 탭 안내 */
.pv-extra-note{
  margin-top:10px;
  font-size:11px;
  color:#9f9687;
  text-align:right;
}

/* 모바일에서 한 줄로 */
@media (max-width:900px){
  .pv-extra-grid{
    grid-template-columns:1fr;
  }
}

    /* ===== 모바일 ===== */
    @media (max-width:900px){
      header.title{
        left:50%; top:10vh;
        transform:translateX(-50%);
        text-align:center;
      }

      nav.menu{
        right:50%;
        transform:translate(50%,0);
        top:auto;
        bottom:13vh;
        animation:slideInMobile .6s ease .4s forwards;
      }
      @keyframes slideInMobile{
        from{opacity:0; transform:translate(50%,20px)}
        to{opacity:1; transform:translate(50%,0)}
      }

      .btn,
      .preview-cta{
        width:90vw;
        max-width:360px;
      }

      .preview-sheet{
        max-width:100%;
        height:100vh;
        border-radius:0;
        margin:0;
      }
      .pv-content{
        padding:12px 14px 16px;
      }
      .pv-top{
        grid-template-columns:1fr;
        gap:18px;
      }
      .pv-side{
        order:-1;
      }
      .pv-divider::before,
      .pv-divider::after{
        width:22%;
      }
    }

    @media (prefers-reduced-motion: reduce){
      .bg, nav.menu, header.title, .dust span, .flicker{
        animation:none !important;
      }
    }

    /* 예고편 이후: 시작 안내 섹션 */
.pv-next {
  margin-top:24px;
  padding:16px 18px 18px;
  border-radius:10px;
  border:1px solid #ffffff22;
  background:linear-gradient(135deg, #171717, #111015);
  box-shadow:0 14px 40px #000a;
  display:grid;
  grid-template-columns:minmax(0,2.2fr) minmax(220px,1.4fr);
  gap:18px;
  font-size:13px;
}

.pv-next-left h4{
  margin:0 0 6px;
  font-size:15px;
  font-weight:600;
}

.pv-next-left p{
  margin:0 0 10px;
  color:#d8d0c1;
  line-height:1.6;
}

.pv-meta-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}

.pv-meta-chip{
  padding:4px 8px;
  border-radius:999px;
  border:1px solid #ffffff2a;
  background:#1b1b1b;
  color:#e9e0d0;
  font-size:11px;
}

.pv-next-right-title{
  margin:0 0 6px;
  font-size:13px;
  font-weight:600;
  color:#f0e6d8;
}

.pv-checklist{
  margin:0 0 10px;
  padding-left:18px;
  color:#d1c9bc;
  line-height:1.6;
}

.pv-next-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.pv-next-actions button{
  border:none;
  border-radius:999px;
  padding:8px 14px;
  font-size:13px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
}

.pv-next-primary{
  background:linear-gradient(90deg,#f6e0b5,#f1cf88);
  color:#171310;
  box-shadow:0 0 0 1px #000 inset, 0 0 20px rgba(255,222,160,.35);
}

.pv-next-secondary{
  background:rgba(26,26,26,.9);
  color:#e5ddcf;
  border:1px solid #ffffff33;
}

/* 모바일에서 한 줄로 */
@media (max-width:900px){
  .pv-next{
    grid-template-columns:1fr;
    gap:12px;
  }
}

  </style>
</head>
<body>
  <!-- 배경 -->
  <div class="bg" aria-hidden="true"></div>
  <div class="shade" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="flicker" aria-hidden="true"></div>
  <div class="dust" id="dust" aria-hidden="true"></div>

  <div class="wrap">
    <header class="title">
      <h1>INTERACTIVE NOVEL</h1>
      <p>당신의 선택이 이야기를 만든다</p>
    </header>

    <!-- 메인 메뉴 / 미리보기 카드 -->
    <nav class="menu" aria-label="메인 메뉴">
      <button class="preview-cta" id="btn-preview" aria-label="미리보기 열기">
        <span class="cta-badge">먼저 체험</span>
        <span class="cta-title">미리보기</span>
        <span class="cta-sub">선택 UI를 10초 안에 확인</span>
        <span class="cta-hint">Press <kbd>P</kbd></span>
      </button>

      <button class="btn" id="btn-start">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <span class="label">시작하기</span>
      </button>

      <a class="btn" id="btn-history" href="지난선택.html" role="button">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4 13a 8 8 0 1114.32 4.906l1.387 1.387-1.414 1.414-1.387-1.387A8 8 0 114 13zm8-5v5l4 2"/>
        </svg>
        <span class="label">지난 선택 보기</span>
      </a>

      <a class="btn" id="btn-options" href="옵션.html" role="button">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4 7h16M4 12h16M4 17h10"
                stroke="currentColor"
                stroke-width="1.6"
                fill="none"
                stroke-linecap="round"/>
        </svg>
        <span class="label">옵션</span>
      </a>
    </nav>

    <p class="notice">이 작품은 단일 탐색을 지원하지 않습니다. 선택지 구간으로만 이동할 수 있습니다.</p>
  </div>

  <!-- 로딩 오버레이 -->
  <aside id="loader" class="loader" aria-hidden="true">
    <div class="panel">
      <div class="progress">
        <div class="bar"><span id="barFill"></span></div>
        <div class="meta">
          <div class="left" id="statusText">저장 중…</div>
          <div class="right"><span id="percent">0</span>%</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- 미리보기 모달 -->
  <div id="previewBackdrop" class="preview-backdrop" aria-hidden="true"></div>
  <section id="previewSheet" class="preview-sheet" role="dialog" aria-modal="true">
    <div class="preview-wrap">
      <header class="pv-head">
        <div class="pv-head-title">PREVIEW</div>
        <button id="pvClose" class="pv-head-close">닫기(Esc)</button>
      </header>

      <div class="pv-content">
        <!-- 위쪽: 설명 + 선택 UI 스틸 -->
        <section class="pv-top">
          <div class="pv-top-left">
            <span class="pv-tag">튜토리얼 · 10초 데모</span>
            <h2 class="pv-title">선택 UI가 이런 느낌이에요</h2>
            <p class="pv-sub">블랙미러: 밴더스내치 스타일의 인터랙티브 소설</p>
            <p class="pv-desc">
              특정 지점마다 화면 하단에 선택지가 나타나고, 상단의 얇은 바가
              <strong>약 10초</strong> 동안 서서히 줄어듭니다. 시간이 다 되면 기본 선택으로 자동 진행돼요.
            </p>

            <div class="pv-chip-row">
              <span class="pv-chip">실시간 선택</span>
              <span class="pv-chip">자동 진행</span>
              <span class="pv-chip">키보드 / 터치 지원</span>
            </div>

            <div class="pv-scene">
              <div class="pv-still" aria-hidden="true"></div>
              <div class="pv-overlay">
                <div class="pv-choice-timer"><span id="pvBar"></span></div>
                <div class="pv-choice-buttons">
                  <button type="button">책을 챙긴다</button>
                  <button type="button">책을 챙기지 않는다</button>
                </div>
                <p class="pv-help" id="pvHelp">
                  ← / → 로 선택을 옮기고 Enter / Space 로 직접 선택해 보세요.
                </p>
              </div>
            </div>
            <p class="pv-caption">※ 실제 플레이 중 선택 구간의 예시 화면입니다.</p>
          </div>

          <aside class="pv-side">
            <h3 class="pv-side-title">어떻게 조작하나요?</h3>
            <ul class="pv-steps">
              <li><span class="step-dot">1</span><span>선택지가 나타나면, 화면 하단의 두 버튼 중 하나를 고릅니다.</span></li>
              <li><span class="step-dot">2</span><span>상단 바가 모두 줄어들기 전에 결정해야 합니다.</span></li>
              <li><span class="step-dot">3</span><span>시간이 지나면 기본 선택으로 자동으로 진행됩니다.</span></li>
            </ul>
            <div class="pv-shortcuts">
              <div class="shortcut-row">
                <span class="shortcut-label">선택 이동</span>
                <span class="shortcut-keys">
                  <kbd>←</kbd><kbd>→</kbd>
                </span>
              </div>
              <div class="shortcut-row">
                <span class="shortcut-label">선택 확정</span>
                <span class="shortcut-keys">
                  <kbd>Enter</kbd><kbd>Space</kbd>
                </span>
              </div>
              <div class="shortcut-row">
                <span class="shortcut-label">모바일</span>
                <span class="shortcut-keys">
                  버튼 직접 <kbd>Tap</kbd>
                </span>
              </div>
            </div>
          </aside>
        </section>

        <!-- 구분선 -->
        <div class="pv-divider"><span>TRAILER PREVIEW</span></div>
                <section class="pv-bottom">
          ...
        </section>


        <!-- 아래쪽: 설명 텍스트 + 영상 -->
        <section class="pv-bottom">
          <div class="pv-bottom-left">
            <h3>블랙미러 밴더스내치가 뭔지 모르시겠다고요?</h3>
            <p>넷플릭스에서 제공한 예고편을 한 번 시청해보세요. 작품의 분위기와 선택 구조를 미리 맛볼 수 있습니다.</p>
          </div>
          <div class="pv-bottom-right">
            <div class="video-wrap">
              <video id="pvVideo" controls preload="none" poster="옵션.jpg" playsinline>
                <source data-src="블랙미러.mp4" type="video/mp4">
                이 브라우저는 동영상 재생을 지원하지 않습니다.
              </video>
            </div>
          </div>
        </section>
                <!-- 예고편 이후: 시작 안내 섹션 -->
        <section class="pv-next">
          <div class="pv-next-left">
            <h4>이제, 당신의 첫 선택만 남았어요</h4>
            <p>
              방금 본 예고편의 분위기가 마음에 들었다면,
              이제는 직접 스토리를 만들어 볼 차례입니다.
              이 작품은 한 번의 플레이로 끝나지 않고,
              서로 다른 선택들이 다른 장면과 엔딩으로 이어집니다.
            </p>
            <div class="pv-meta-row">
              <span class="pv-meta-chip">권장 플레이타임 · 30~45분</span>
              <span class="pv-meta-chip">엔딩 수 · 5+</span>
              <span class="pv-meta-chip">권장 환경 · PC + 헤드폰</span>
            </div>
          </div>

          <div class="pv-next-right">
            <p class="pv-next-right-title">시작하기 전에 이것만 확인해 주세요</p>
            <ul class="pv-checklist">
              <li>소리가 들리도록 볼륨을 켜 두었나요?</li>
              <li>중간에 브라우저를 새로고침하면 진행 상황이 초기화될 수 있어요.</li>
              <li>선택지는 시간 제한이 있으니, 너무 오래 고민하지 마세요.</li>
            </ul>
            <div class="pv-next-actions">
              <button type="button" class="pv-next-primary" id="pvStartFromPreview">
                ▶ 지금 첫 장면으로 이동하기
              </button>
              <button type="button" class="pv-next-secondary" id="pvReplayDemo">
                ↻ 선택 튜토리얼 다시 보기
              </button>

            </div>
          </div>

                  </section> <!-- pv-bottom 끝 -->

        <!-- 추가 유튜브 클립 섹션 -->
        <section class="pv-extra">
          <div class="pv-extra-header">
            <div class="pv-extra-eyebrow">MORE FROM BANDERSNATCH</div>
            <h3 class="pv-extra-title">밴더스내치가 더 궁금하다면?</h3>
            <p class="pv-extra-sub">
              메이킹 필름, 인터뷰, 분석 영상을 통해 작품의 뒷이야기를 더 깊게 볼 수 있어요.
            </p>
          </div>

          <div class="pv-extra-grid">
            <!-- 카드 1 : 공식 예고편 -->
            <a class="pv-extra-card"
               href="https://www.youtube.com/watch?v=wglNCdAM43A"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('공식.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">공식 트레일러 (Netflix)</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">분위기 미리보기</span>
                  <span>2:30 · YouTube</span>
                </div>
              </div>
            </a>

            <!-- 카드 2 : 메이킹 필름 -->
            <a class="pv-extra-card"
               href="https://youtu.be/S85BBpp4liA?si=e9wNk1RlDI_O6Tp-"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('제작.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">비하인드: 어떻게 만들어졌을까</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">메이킹</span>
                  <span>10:12 · 감독 & 제작진</span>
                </div>
              </div>
            </a>

            <!-- 카드 3 : 선택 구조 분석 -->
            <a class="pv-extra-card"
               href="https://youtu.be/HbXH_8O7P8M?si=43eOmLxOYaJie6-I"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('분석이미지.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">결말 구조 & 선택 루트 분석</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">분석</span>
                  <span>8:45 · 팬 영상</span>
                </div>
              </div>
            </a>
          </div>

          <p class="pv-extra-note">
            * 모든 링크는 YouTube 새 탭에서 재생됩니다.
          </p>
        </section>

        </section>

      </div>
    </div>
  </section>

  <script>
    /* 패럴랙스 */
    const bg = document.querySelector('.bg');
    const shade = document.querySelector('.shade');
    function parallax(x,y){
      const nx=(x/innerWidth)-.5;
      const ny=(y/innerHeight)-.5;
      const tx=nx*1.6, ty=ny*1.2;
      bg.style.transform=`scale(1.03) translate(${tx}%,${ty}%) rotate(${nx*.2}deg)`;
      shade.style.transform=`translate(${tx*.4}%,${ty*.4}%)`;
    }
    addEventListener('mousemove',e=>parallax(e.clientX,e.clientY));
    addEventListener('touchmove',e=>{
      const t=e.touches[0];
      parallax(t.clientX,t.clientY);
    },{passive:true});

    /* 먼지 생성 */
    (function(){
      const host=document.getElementById('dust');
      const COUNT=36;
      for(let i=0;i<COUNT;i++){
        const s=document.createElement('span');
        s.style.left=Math.random()*100+'vw';
        s.style.setProperty('--x',(Math.random()*20-10)+'vw');
        s.style.animationDuration=(16+Math.random()*12)+'s';
        s.style.animationDelay=(Math.random()*18)+'s';
        s.style.opacity=(0.03+Math.random()*0.07).toFixed(2);
        host.appendChild(s);
      }
    })();

    /* 로딩→Start.html */
    const loader=document.getElementById('loader'),
          barFill=document.getElementById('barFill'),
          percentEl=document.getElementById('percent'),
          statusEl=document.getElementById('statusText');

    function showLoader(){
      loader.classList.add('active');
      loader.setAttribute('aria-hidden','false');
      let p=0,i=0;
      const steps=[
        {to:20,label:'저장 중…'},
        {to:55,label:'리소스 불러오는 중…'},
        {to:78,label:'분기 데이터 동기화…'},
        {to:100,label:'장면 준비 완료'}
      ];
      (function tick(){
        const target=steps[i].to;
        p+=Math.max(1,Math.round((target-p)*.08));
        barFill.style.width=p+'%';
        percentEl.textContent=p;
        statusEl.textContent=steps[i].label;
        if(p>=target) i++;
        if(p<100){
          requestAnimationFrame(tick);
        }else{
          setTimeout(()=>{ location.href='Start.html'; },350);
        }
      })();
    }
    document.getElementById('btn-start').addEventListener('click', showLoader);

    /* 미리보기 시트 기본 */
    const pvBtn   = document.getElementById('btn-preview'),
          pvSheet = document.getElementById('previewSheet'),
          pvBack  = document.getElementById('previewBackdrop'),
          pvClose = document.getElementById('pvClose'),
          pvBar   = document.getElementById('pvBar');

    function openPreview(){
      pvBack.classList.add('open');
      pvSheet.classList.add('open');
      pvSheet.scrollTop=0;

      // 비디오 즉시 로드
      const v=document.getElementById('pvVideo');
      const src=v.querySelector('source');
      if(src && src.dataset.src && !src.src){
        src.src=src.dataset.src;
        v.load();
      }

      // 선택 데모 리셋
      resetDemo();
    }

    function closePreview(){
      pvBack.classList.remove('open');
      pvSheet.classList.remove('open');
      stopDemo();
      if(pvBar) pvBar.style.transform='scaleX(1)';
      const v=document.getElementById('pvVideo');
      if(v){
        try{ v.pause(); }catch(e){}
      }
    }

    pvBtn.addEventListener('click', openPreview);
    pvClose.addEventListener('click', closePreview);
    pvBack.addEventListener('click', closePreview);

    /* ===== 미리보기 내 선택 데모 ===== */
    const pvButtons = document.querySelectorAll('.pv-choice-buttons button');
    const pvHelp    = document.getElementById('pvHelp');

    let demoActive = false;
    let demoLocked = false;
    let demoIndex  = 0;
    let demoStart  = 0;
    let demoRAF    = null;
    const DEMO_DUR = 6000;

    function setActiveChoice(i){
      demoIndex = i;
      pvButtons.forEach((btn,idx)=>{
        btn.classList.toggle('active', idx===demoIndex);
      });
    }

    function stopDemo(){
      demoActive = false;
      cancelAnimationFrame(demoRAF);
    }

    function resetDemo(){
      if(!pvBar || pvButtons.length<2 || !pvHelp) return;
      demoActive = true;
      demoLocked = false;
      demoStart  = performance.now();
      pvBar.style.transform='scaleX(1)';
      pvHelp.textContent='← / → 로 선택을 옮기고 Enter / Space 로 직접 선택해 보세요.';
      setActiveChoice(0);
      stopDemo();
      demoRAF = requestAnimationFrame(tickDemo);
    }

    function commitChoice(choiceText, reason){
      if(demoLocked) return;
      demoLocked = true;
      pvBar.style.transform='scaleX(0)';
      pvHelp.textContent = `${reason} [${choiceText}] 가 선택되었습니다. 실제 플레이에선 곧바로 다음 장면으로 넘어가요.`;
      stopDemo();
      // 2.3초 후 다시 연습 가능
      setTimeout(()=>{
        if(pvSheet.classList.contains('open')){
          resetDemo();
        }
      },2300);
    }

    function autoCommit(){
      const choiceText = pvButtons[0].textContent.trim();
      commitChoice(choiceText,'시간이 지나 기본 선택으로');
    }

    function tickDemo(now){
      if(!demoActive || demoLocked) return;
      const p = Math.min(1,(now-demoStart)/DEMO_DUR);
      pvBar.style.transform = `scaleX(${1-p})`;
      if(p>=1){
        autoCommit();
        return;
      }
      demoRAF = requestAnimationFrame(tickDemo);
    }

    // 키보드 조작
    window.addEventListener('keydown',(e)=>{
      if(e.key==='Escape') closePreview();
      if(e.key.toLowerCase()==='p') openPreview();

      if(!pvSheet.classList.contains('open')) return;
      if(demoLocked) return;

      if(e.key==='ArrowLeft'){
        e.preventDefault();
        setActiveChoice(0);
      }else if(e.key==='ArrowRight'){
        e.preventDefault();
        setActiveChoice(1);
      }else if(e.key==='Enter' || e.key===' '){
        e.preventDefault();
        const choiceText = pvButtons[demoIndex].textContent.trim();
        commitChoice(choiceText,'이렇게 직접 선택하면');
      }
    });

    // 마우스로도 눌러보기
    pvButtons.forEach((btn,idx)=>{
      btn.addEventListener('click',()=>{
        if(!pvSheet.classList.contains('open') || demoLocked) return;
        setActiveChoice(idx);
        const choiceText = btn.textContent.trim();
        commitChoice(choiceText,'버튼을 클릭해서');
      });
    });

        // 예고편 이후 CTA 버튼들
    const pvStartFromPreview = document.getElementById('pvStartFromPreview');
    const pvReplayDemo      = document.getElementById('pvReplayDemo');

    if(pvStartFromPreview){
      pvStartFromPreview.addEventListener('click', ()=>{
        closePreview();
        showLoader();        // 메인 화면의 시작하기랑 같은 흐름
      });
    }
    if(pvReplayDemo){
      pvReplayDemo.addEventListener('click', ()=>{
        // 모달 안에서 다시 선택 연습만 리셋
        if(pvSheet.classList.contains('open')){
          resetDemo();
          pvSheet.scrollTop = 0;   // 맨 위로 스크롤 올려주기
        }
      });
    }

  </script>
</body>
</html>
