<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="prefetch" href="Start.html">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>INTERACTIVE NOVEL â€” ë©”ì¸í™”ë©´</title>
  <style>
    /* Pretendard */
    @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css");

    :root{
      --ink:#ece6db;
      --ink-dim:#cfc8b9;
      --accent:#fff6e6;
      --stroke:#ffffff25;
      --focus:#ffe1a6;
      --card-bg: rgba(10,10,10,.26);
      --card-grad: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,0));
      --pv-gap: 40px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Pretendard', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color:var(--ink);
      background:#000;
      overflow:hidden;
    }

    /* ===== ë°°ê²½ ===== */
    .bg{
      position:fixed; inset:0;
      background:url('ë°°ê²½.jpg') center/cover no-repeat;
      transform-origin:center;
      will-change:transform;
      animation:cam 40s ease-in-out infinite alternate;
      filter:contrast(1.02) saturate(0.96);
    }
    @keyframes cam{
      0%{transform:scale(1.01) translate(0,0) rotate(0deg)}
      50%{transform:scale(1.03) translate(.5%,-.6%) rotate(.15deg)}
      100%{transform:scale(1.02) translate(-.6%,.6%) rotate(-.15deg)}
    }
    .shade{
      position:fixed; inset:0; pointer-events:none;
      background:linear-gradient(90deg,
        rgba(0,0,0,.55) 0%,
        rgba(0,0,0,.30) 35%,
        rgba(0,0,0,.12) 60%,
        rgba(0,0,0,.36) 100%);
    }
    .vignette{
      position:fixed; inset:0; pointer-events:none;
      background:radial-gradient(70% 70% at 50% 50%,
        rgba(0,0,0,0) 58%,
        rgba(0,0,0,.45) 100%);
    }
    .flicker{
      position:fixed; inset:0; pointer-events:none;
      mix-blend-mode:screen;
      background:transparent;
      animation:flick 6s ease-in-out infinite;
    }
    @keyframes flick{
      0%,100%{background:rgba(255,220,150,.03)}
      40%{background:rgba(255,220,150,.08)}
      50%{background:rgba(255,220,150,.015)}
      60%{background:rgba(255,220,150,.06)}
    }

    /* ë¨¼ì§€ */
    .dust{
      position:fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
    }
    .dust span{
      position:absolute;
      width:2px; height:2px;
      background:#fff;
      border-radius:50%;
      opacity:.06;
      filter:blur(.3px);
      animation:float 18s linear infinite;
    }
    @keyframes float{
      from{transform:translate3d(var(--x,0),110vh,0)}
      to{transform:translate3d(calc(var(--x,0) + 10vw),-10vh,0)}
    }

    /* ===== ë ˆì´ì•„ì›ƒ ===== */
    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
    }

    header.title{
      position:absolute;
      left:50%; top:16vh;
      transform:translateX(-50%);
      text-align:center;
      opacity:0;
      animation:fadeIn .9s ease .2s forwards;
    }
    header.title h1{
      margin:0 0 6px;
      font-size:clamp(28px,4.4vw,56px);
      letter-spacing:1.5px;
      color:var(--accent);
      text-shadow:0 2px 12px #000a;
      animation:glow 4.8s ease-in-out infinite;
    }
    header.title p{
      margin:0;
      color:var(--ink-dim);
    }
    @keyframes fadeIn{
      to{opacity:1; transform:translate(-50%,0)}
    }
    @keyframes glow{
      0%,100%{text-shadow:0 2px 12px #000a}
      50%{text-shadow:0 2px 22px #000c, 0 0 18px #ffe7b533}
    }

    /* ===== ë©”ë‰´ ë²„íŠ¼ ìŠ¤íƒ ===== */
    nav.menu{
      position:absolute;
      right:min(10vw,160px);
      top:50%;
      transform:translateY(-50%);
      display:flex;
      flex-direction:column;
      gap:14px;
      opacity:0;
      animation:slideIn .6s ease .4s forwards, breathe 8s ease-in-out infinite;
    }
    @keyframes slideIn{
      from{opacity:0; transform:translateY(-40%)}
      to{opacity:1; transform:translateY(-50%)}
    }
    @keyframes breathe{
      0%,100%{transform:translateY(-50%)}
      50%{transform:translateY(calc(-50% + 4px))}
    }

    .btn,
    .preview-cta{
      position:relative;
      display:flex;
      align-items:flex-start;
      gap:12px;
      width:min(300px,36vw);
      padding:12px 16px;
      background:var(--card-bg);
      border:1px solid var(--stroke);
      color:var(--ink-dim);
      text-align:left;
      cursor:pointer;
      font-size:14px;
      backdrop-filter: blur(2px);
      border-radius:10px;
      overflow:hidden;
      transition:.18s;
      text-decoration:none;
    }
    .btn::before,
    .preview-cta::before{
      content:''; position:absolute;
      inset:0 0 auto 0;
      height:40%;
      background:var(--card-grad);
      pointer-events:none;
    }

    .btn .ico{
      width:18px; height:18px;
      opacity:.9;
      flex:0 0 auto;
      margin-top:2px;
    }
    .btn .label{
      flex:1 1 auto;
      color:#efe7d8;
      text-decoration:none;
    }

    .btn:hover,
    .preview-cta:hover{
      transform:translateX(6px);
      color:#fff;
      border-color:#ffffff55;
      background:rgba(0,0,0,.28);
      box-shadow:0 6px 22px rgba(0,0,0,.22), 0 0 20px #ffe1a614;
    }
    .btn:focus{
      outline:2px solid var(--focus);
      outline-offset:2px;
    }

    /* ===== ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ ===== */
    .preview-cta{
      flex-direction:column;
      align-items:flex-start;
      gap:4px;
      color:#fff;
      box-shadow:0 10px 40px rgba(0,0,0,.35), 0 0 28px #ffe1a620;
    }
    .preview-cta .cta-badge{
      display:inline-block;
      font-size:11px;
      letter-spacing:.14em;
      text-transform:uppercase;
      padding:3px 8px;
      border-radius:999px;
      background:#1a1a1a;
      border:1px solid #ffffff33;
      color:#ffe8bf;
      box-shadow:0 0 0 1px #000 inset;
    }
    .preview-cta .cta-title{
      font-size:15px;
      font-weight:600;
      letter-spacing:.02em;
    }
    .preview-cta .cta-sub{
      font-size:13px;
      opacity:.9;
      color:#e9dfcd;
    }
    .preview-cta .cta-hint{
      margin-top:4px;
      font-size:12px;
      color:#cfc6b7;
      opacity:.9;
    }
    .preview-cta kbd{
      font:12px/1 monospace;
      padding:2px 6px;
      border-radius:6px;
      border:1px solid #ffffff38;
      background:#0b0b0bcc;
    }

    .notice{
      position:fixed;
      left:0; right:0; bottom:16px;
      text-align:center;
      font-size:12px;
      color:#bfb7a8;
      text-shadow:0 1px 6px #0009;
    }

    /* ===== ë¡œë”© ì˜¤ë²„ë ˆì´ ===== */
    .loader{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background:#000;
      z-index:70;
    }
    .loader.active{display:grid}
    .loader .panel{
      position:relative;
      width:min(1000px,90vw);
      height:min(560px,58vh);
      background:url('ë¡œë”©.png') center/cover no-repeat;
      border:1px solid #ffffff22;
      box-shadow:0 24px 80px #000a;
      overflow:hidden;
    }
    .loader .panel::after{
      content:''; position:absolute; inset:0;
      background:rgba(0,0,0,.46);
      box-shadow:inset 0 0 140px #000a;
    }
    .progress{
      position:absolute;
      left:0; right:0; bottom:0;
      padding:18px 20px;
      display:grid;
      gap:10px;
      z-index:2;
      background:linear-gradient(180deg,
        rgba(0,0,0,.05),
        rgba(0,0,0,.46));
      backdrop-filter: blur(2px);
    }
    .bar{
      height:10px;
      border:1px solid #ffffff33;
      background:rgba(255,255,255,.08);
      position:relative;
      overflow:hidden;
    }
    .bar>span{
      position:absolute;
      left:0; top:0; bottom:0;
      width:0%;
      background:linear-gradient(90deg,#ffe1a6,#ffd07a);
      box-shadow:0 0 16px #ffe1a655;
      transition:width .2s ease;
    }
    .bar>span::after{
      content:''; position:absolute; inset:0;
      background:repeating-linear-gradient(45deg,
        rgba(255,255,255,.25) 0 8px,
        rgba(255,255,255,0) 8px 16px);
      mix-blend-mode:overlay;
      animation:stripe 1s linear infinite;
    }
    @keyframes stripe{to{transform:translateX(16px)}}
    .progress .meta{
      display:flex;
      justify-content:space-between;
      align-items:center;
      color:#e9e1d1;
      font-size:14px;
    }
    .progress .meta .right{opacity:.85}

    /* ===== ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ ===== */
    .preview-backdrop{
      position:fixed; inset:0;
      background:#0008;
      backdrop-filter:blur(2px);
      opacity:0;
      pointer-events:none;
      transition:.25s ease;
      z-index:60;
    }
    .preview-backdrop.open{
      opacity:1;
      pointer-events:auto;
    }

    /* âœ… ì—¬ê¸°ì—ì„œë§Œ ìŠ¤í¬ë¡¤ + ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
    .preview-sheet{
      position:fixed;
      inset:0;
      margin:auto;
      max-width:980px;
      height:auto;
      max-height:92vh;
      background:#141414;
      border-radius:10px;
      border:1px solid #ffffff22;
      box-shadow:0 26px 80px #000;
      color:#f2eee5;
      transform:translateY(6%);
      opacity:0;
      pointer-events:none;
      transition:opacity .25s ease, transform .25s ease;
      z-index:61;
      display:flex;
      flex-direction:column;

      overflow-y:auto;

      /* Firefox */
      scrollbar-width:thin;
      scrollbar-color:#f1cf88 #0b090c;
    }
    .preview-sheet.open{
      opacity:1;
      transform:translateY(0);
      pointer-events:auto;
    }
    /* Chrome / Edge / Safari */
    .preview-sheet::-webkit-scrollbar{
      width:8px;
    }
    .preview-sheet::-webkit-scrollbar-track{
      background:#0b090c;
      border-radius:10px;
    }
    .preview-sheet::-webkit-scrollbar-thumb{
      background:linear-gradient(180deg,#f6e0b5,#f1cf88);
      border-radius:10px;
      box-shadow:0 0 10px rgba(255,222,160,.45);
    }
    .preview-sheet::-webkit-scrollbar-thumb:hover{
      background:linear-gradient(180deg,#ffedc5,#f4c66f);
    }

    .preview-wrap{
      flex:1;
      display:flex;
      flex-direction:column;
    }

    .pv-head{
      flex:0 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:10px 16px;
      border-bottom:1px solid #ffffff1a;
      background:linear-gradient(90deg,#101010,#141414);
      font-size:14px;
    }
    .pv-head-title{
      font-weight:600;
      letter-spacing:.06em;
      text-transform:uppercase;
      font-size:12px;
      color:#f0e6d8;
    }
    .pv-head-close{
      background:none;
      border:1px solid #ffffff33;
      color:#f5f2ea;
      border-radius:6px;
      padding:4px 10px;
      font-size:12px;
      cursor:pointer;
    }
    .pv-head-close:hover{
      background:#ffffff22;
    }

    .pv-content{
      flex:1 1 auto;
      padding:16px 20px 18px;
      /* âœ… ì‹¤ì œ ìŠ¤í¬ë¡¤ì€ preview-sheetì—ì„œë§Œ */
      overflow:visible;
      -webkit-overflow-scrolling:touch;
      font-size:14px;
    }

    /* ìƒë‹¨ ì„¹ì…˜ */
    .pv-top{
      display:grid;
      grid-template-columns:minmax(0,2.4fr) minmax(220px,1.5fr);
      gap:24px;
      align-items:flex-start;
    }

    .pv-tag{
      display:inline-block;
      font-size:11px;
      letter-spacing:.12em;
      text-transform:uppercase;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid #ffffff2e;
      background:#181818;
      color:#f5e1b7;
      margin-bottom:8px;
    }

    .pv-title{
      margin:0 0 4px;
      font-size:18px;
      font-weight:600;
    }
    .pv-sub{
      margin:0 0 6px;
      font-size:13px;
      color:#d8d0c1;
    }
    .pv-desc{
      margin:0 0 10px;
      color:#cfc7ba;
      line-height:1.6;
      font-size:13px;
    }

    .pv-chip-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-bottom:10px;
    }
    .pv-chip{
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      background:#1b1b1b;
      border:1px solid #ffffff1f;
      color:#e9e0d0;
    }

    .pv-scene{
      position:relative;
      margin-top:6px;
      border-radius:6px;
      border:1px solid #ffffff22;
      overflow:hidden;
      background:#000;
      aspect-ratio:16/9;
      box-shadow:0 10px 30px #000a;
    }
    .pv-still{
      position:absolute; inset:0;
      background:url('ì„ íƒ1.png') center/cover no-repeat;
      filter:brightness(.95) contrast(1.03);
    }
    .pv-overlay{
      position:absolute;
      left:0; right:0; bottom:0;
      padding:8px 10px;
      background:linear-gradient(180deg,
        rgba(0,0,0,0) 0%,
        rgba(0,0,0,.75) 70%,
        rgba(0,0,0,.9) 100%);
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    .pv-choice-timer{
      height:4px;
      border-radius:999px;
      background:rgba(255,255,255,.18);
      overflow:hidden;
    }
    .pv-choice-timer span{
      display:block;
      width:100%; height:100%;
      background:#f5f0e0;
      transform-origin:left;
      transform:scaleX(1);
    }
    .pv-choice-buttons{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:4px;
      margin-top:4px;
    }
    .pv-choice-buttons button{
      border:none;
      border-radius:4px;
      padding:8px 6px;
      font-size:13px;
      background:rgba(32,32,32,.9);
      color:#fefaf0;
      cursor:default;
      transition:background .18s ease, box-shadow .18s ease, transform .18s ease;
    }
    .pv-choice-buttons button.active{
      background:linear-gradient(90deg,#f8e4b9,#f1cf88);
      color:#161310;
      box-shadow:0 0 0 1px #000 inset, 0 0 18px rgba(255,225,160,.35);
      transform:translateY(-1px);
    }

    .pv-help{
      margin:6px 2px 0;
      font-size:11px;
      color:#d6cfc2;
      opacity:.9;
    }

    .pv-caption{
      margin:6px 0 0;
      font-size:11px;
      color:#a79f91;
    }

    /* ìš°ì¸¡ ì‚¬ì´ë“œ ì„¤ëª… */
    .pv-side{
      font-size:12px;
      line-height:1.7;
      color:#d1c9bc;
      background:#111;
      border-radius:8px;
      border:1px solid #ffffff1c;
      padding:10px 12px 12px;
      box-shadow:0 12px 32px #000b;
    }
    .pv-side-title{
      margin:0 0 6px;
      font-size:13px;
      font-weight:600;
    }
    .pv-steps{
      list-style:none;
      margin:0 0 10px;
      padding:0;
    }
    .pv-steps li{
      display:flex;
      align-items:flex-start;
      gap:6px;
      margin-bottom:4px;
    }
    .step-dot{
      flex:0 0 auto;
      width:16px; height:16px;
      border-radius:999px;
      border:1px solid #ffffff55;
      font-size:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:#f7e5bc;
      margin-top:2px;
    }

    .pv-shortcuts{
      border-top:1px dashed #ffffff24;
      padding-top:8px;
      margin-top:4px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .shortcut-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:6px;
    }
    .shortcut-label{
      color:#c8c0b0;
    }
    .shortcut-keys kbd{
      font:11px/1 monospace;
      padding:3px 5px;
      border-radius:4px;
      border:1px solid #ffffff40;
      background:#181818;
      margin-left:2px;
      color:#f5f0e2;
      box-shadow:0 1px 0 #000;
    }

    /* í•˜ë‹¨: ì„¤ëª… + ì˜ìƒ ì¤‘ì•™ ì •ë ¬ */
    .pv-divider{
      margin-top:26px;
      margin-bottom:14px;
      text-align:center;
      position:relative;
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#a79f90;
    }
    .pv-divider::before,
    .pv-divider::after{
      content:"";
      position:absolute;
      top:50%;
      width:30%;
      height:1px;
      background:#ffffff22;
    }
    .pv-divider::before{left:6%}
    .pv-divider::after{right:6%}

    .pv-bottom{
      margin-top:0;
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:16px;
    }
    .pv-bottom-left{
      max-width:720px;
    }
    .pv-bottom-left h3{
      margin:0 0 6px;
      font-size:15px;
      font-weight:600;
    }
    .pv-bottom-left p{
      margin:0;
      color:#d6cfc2;
      line-height:1.7;
      font-size:13px;
    }

    /* ì˜ˆê³ í¸ ì˜ìƒ: íŒ¨ë„ ì–‘ ëê¹Œì§€ ê½‰ ì°¨ê²Œ */
    .video-wrap{
      position:relative;
      width:calc(100% + 40px);
      margin:10px -20px 0;
      aspect-ratio:16/9;
      max-width:none;
      border-radius:0 0 10px 10px;
      border-top:1px solid #ffffff22;
      border-bottom:1px solid #ffffff22;
      overflow:hidden;
      box-shadow:0 16px 40px #000c;
      background:#000;
    }
    .video-wrap video{
      width:100%;
      height:100%;
      display:block;
      background:#000;
    }

    /* ===== ì˜ˆê³ í¸ ì´í›„: ì‹œì‘ ì•ˆë‚´ ì„¹ì…˜ ===== */
    .pv-next{
      margin-top:24px;
      padding:16px 18px 18px;
      border-radius:10px;
      border:1px solid #ffffff22;
      background:linear-gradient(135deg, #171717, #111015);
      box-shadow:0 14px 40px #000a;
      display:grid;
      grid-template-columns:minmax(0,2.2fr) minmax(220px,1.4fr);
      gap:18px;
      font-size:13px;
    }
    .pv-next-left h4{
      margin:0 0 6px;
      font-size:15px;
      font-weight:600;
    }
    .pv-next-left p{
      margin:0 0 10px;
      color:#d8d0c1;
      line-height:1.6;
    }
    .pv-meta-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .pv-meta-chip{
      padding:4px 8px;
      border-radius:999px;
      border:1px solid #ffffff2a;
      background:#1b1b1b;
      color:#e9e0d0;
      font-size:11px;
    }
    .pv-next-right-title{
      margin:0 0 6px;
      font-size:13px;
      font-weight:600;
      color:#f0e6d8;
    }
    .pv-checklist{
      margin:0 0 10px;
      padding-left:18px;
      color:#d1c9bc;
      line-height:1.6;
    }
    .pv-next-actions{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .pv-next-actions button{
      border:none;
      border-radius:999px;
      padding:8px 14px;
      font-size:13px;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .pv-next-primary{
      background:linear-gradient(90deg,#f6e0b5,#f1cf88);
      color:#171310;
      box-shadow:0 0 0 1px #000 inset, 0 0 20px rgba(255,222,160,.35);
    }
    .pv-next-secondary{
      background:rgba(26,26,26,.9);
      color:#e5ddcf;
      border:1px solid #ffffff33;
    }

    /* ===== ì¶”ê°€ ìœ íŠœë¸Œ í´ë¦½ ì„¹ì…˜ ===== */
    .pv-extra{
      margin-top:32px;
      padding:20px 0 4px;
      border-top:1px solid #ffffff18;
    }

    .pv-extra-header{
      text-align:center;
      margin-bottom:18px;
    }

    .pv-extra-eyebrow{
      font-size:11px;
      letter-spacing:.18em;
      text-transform:uppercase;
      color:#a79f90;
    }

    .pv-extra-title{
      margin:4px 0 4px;
      font-size:15px;
      font-weight:600;
    }

    .pv-extra-sub{
      margin:0;
      font-size:12px;
      color:#cfc7ba;
    }

    .pv-extra-grid{
      display:grid;
      grid-template-columns:repeat(3, minmax(0,1fr));
      gap:14px;
    }

    .pv-extra-card{
      position:relative;
      display:flex;
      flex-direction:column;
      background:#111;
      border-radius:10px;
      border:1px solid #ffffff15;
      overflow:hidden;
      text-decoration:none;
      color:inherit;
      cursor:pointer;
      transition:
        transform .16s ease,
        box-shadow .16s ease,
        border-color .16s ease,
        background .16s ease;
    }
    .pv-extra-card:hover{
      transform:translateY(-2px);
      box-shadow:0 14px 38px #000c;
      border-color:#ffffff33;
      background:#141414;
    }

    .pv-extra-thumb{
      position:relative;
      aspect-ratio:16/9;
      background:#000 center/cover no-repeat;
    }
    .pv-extra-thumb::after{
      content:"";
      position:absolute;
      left:50%; top:50%;
      width:46px; height:46px;
      border-radius:50%;
      border:1px solid #ffffffaa;
      box-shadow:0 0 18px #000a;
      background:radial-gradient(circle at 30% 30%, #ffffff, #f3d49a);
      transform:translate(-50%,-50%);
      mask:
        radial-gradient(circle 22px at center, transparent 21px, #000 21px) subtract,
        linear-gradient(90deg, transparent 44%, #000 44%);
    }

    .pv-extra-body{
      padding:9px 10px 10px;
    }
    .pv-extra-card-title{
      margin:0 0 2px;
      font-size:13px;
      font-weight:600;
    }
    .pv-extra-meta{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
      color:#a99f90;
    }
    .pv-extra-pill{
      padding:2px 6px;
      border-radius:999px;
      border:1px solid #ffffff22;
      background:#181818;
    }
    .pv-extra-note{
      margin-top:10px;
      font-size:11px;
      color:#9f9687;
      text-align:right;
    }

    /* ëª¨ë°”ì¼ì—ì„œ í•œ ì¤„ë¡œ */
    @media (max-width:900px){
      .pv-extra-grid{
        grid-template-columns:1fr;
      }
    }

    /* ===== ëª¨ë°”ì¼ ì „ì²´ ===== */
    @media (max-width:900px){
      header.title{
        left:50%; top:10vh;
        transform:translateX(-50%);
        text-align:center;
      }

      nav.menu{
        right:50%;
        transform:translate(50%,0);
        top:auto;
        bottom:13vh;
        animation:slideInMobile .6s ease .4s forwards;
      }
      @keyframes slideInMobile{
        from{opacity:0; transform:translate(50%,20px)}
        to{opacity:1; transform:translate(50%,0)}
      }

      .btn,
      .preview-cta{
        width:90vw;
        max-width:360px;
      }

      .preview-sheet{
        max-width:100%;
        height:100vh;
        border-radius:0;
        margin:0;
      }
      .pv-content{
        padding:12px 14px 16px;
      }
      .pv-top{
        grid-template-columns:1fr;
        gap:18px;
      }
      .pv-side{
        order:-1;
      }
      .pv-divider::before,
      .pv-divider::after{
        width:22%;
      }
      .pv-next{
        grid-template-columns:1fr;
        gap:12px;
      }
    }

    @media (prefers-reduced-motion: reduce){
      .bg, nav.menu, header.title, .dust span, .flicker{
        animation:none !important;
      }
    }

  
    /* ===== BGM ì»¨íŠ¸ë¡¤ ===== */
    .bgm-fab{
      position:fixed;
      left:16px;
      bottom:16px;
      z-index:55; /* preview(60~61)ë³´ë‹¤ ì•„ë˜, ë©”ì¸ UIë³´ë‹¤ ìœ„ */
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background:rgba(10,10,10,.32);
      color:#efe7d8;
      cursor:pointer;
      backdrop-filter: blur(2px);
      box-shadow:0 10px 28px rgba(0,0,0,.35), 0 0 18px #ffe1a610;
      transition:.18s;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .bgm-fab:hover{
      transform:translateY(-1px);
      border-color:#ffffff55;
      background:rgba(0,0,0,.30);
      box-shadow:0 14px 34px rgba(0,0,0,.42), 0 0 22px #ffe1a614;
    }
    .bgm-fab:focus{
      outline:2px solid var(--focus);
      outline-offset:2px;
    }
.notice-wrap{
  display:flex;
  flex-direction:column;
  gap:8px;              /* ë‘ ë¬¸ì¥ ê°„ê²© */
  align-items:center;   /* ê°€ìš´ë° ì •ë ¬(ì›í•˜ë©´ leftë¡œ ë°”ê¿”ë„ ë¨) */
}

.notice-sub{
  margin:0;
  font-size:12px;
  opacity:.75;
}

  </style>
</head>
<body>
  <!-- ë°°ê²½ -->
  <div class="bg" aria-hidden="true"></div>
  <div class="shade" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="flicker" aria-hidden="true"></div>
  <div class="dust" id="dust" aria-hidden="true"></div>

  <div class="wrap">
    <header class="title">
      <h1>INTERACTIVE NOVEL</h1>
      <p>ë‹¹ì‹ ì˜ ì„ íƒì´ ì´ì•¼ê¸°ë¥¼ ë§Œë“ ë‹¤</p>
    </header>

    <!-- ë©”ì¸ ë©”ë‰´ / ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ -->
    <nav class="menu" aria-label="ë©”ì¸ ë©”ë‰´">
      <button class="preview-cta" id="btn-preview" aria-label="ë¯¸ë¦¬ë³´ê¸° ì—´ê¸°">
        <span class="cta-badge">ë¨¼ì € ì²´í—˜</span>
        <span class="cta-title">ë¯¸ë¦¬ë³´ê¸°</span>
        <span class="cta-sub">ì„ íƒ UIë¥¼ 10ì´ˆ ì•ˆì— í™•ì¸</span>
        <span class="cta-hint">Press <kbd>P</kbd></span>
      </button>

      <button class="btn" id="btn-start">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <span class="label">ì‹œì‘í•˜ê¸°</span>
      </button>

      <a class="btn" id="btn-history" href="ì§€ë‚œì„ íƒ.html" role="button">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4 13a 8 8 0 1114.32 4.906l1.387 1.387-1.414 1.414-1.387-1.387A8 8 0 114 13zm8-5v5l4 2"/>
        </svg>
        <span class="label">ì§€ë‚œ ì„ íƒ ë³´ê¸°</span>
      </a>

      <a class="btn" id="btn-options" href="ì˜µì…˜.html" role="button">
        <svg class="ico" viewBox="0 0 24 24" fill="currentColor">
          <path d="M4 7h16M4 12h16M4 17h10"
                stroke="currentColor"
                stroke-width="1.6"
                fill="none"
                stroke-linecap="round"/>
        </svg>
        <span class="label">ì˜µì…˜</span>
      </a>
    </nav>

    <div class="notice-wrap">
  <p class="notice">ì´ ì‘í’ˆì€ ë‹¨ì¼ íƒìƒ‰ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì„ íƒì§€ êµ¬ê°„ìœ¼ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  
</div>

  </div>

  <!-- ë¡œë”© ì˜¤ë²„ë ˆì´ -->
  <aside id="loader" class="loader" aria-hidden="true">
    <div class="panel">
      <div class="progress">
        <div class="bar"><span id="barFill"></span></div>
        <div class="meta">
          <div class="left" id="statusText">ì €ì¥ ì¤‘â€¦</div>
          <div class="right"><span id="percent">0</span>%</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
  <div id="previewBackdrop" class="preview-backdrop" aria-hidden="true"></div>
  <section id="previewSheet" class="preview-sheet" role="dialog" aria-modal="true">
    <div class="preview-wrap">
      <header class="pv-head">
        <div class="pv-head-title">PREVIEW</div>
        <button id="pvClose" class="pv-head-close">ë‹«ê¸°(Esc)</button>
      </header>

      <div class="pv-content">
        <!-- ìœ„ìª½: ì„¤ëª… + ì„ íƒ UI ìŠ¤í‹¸ -->
        <section class="pv-top">
          <div class="pv-top-left">
            <span class="pv-tag">íŠœí† ë¦¬ì–¼ Â· 10ì´ˆ ë°ëª¨</span>
            <h2 class="pv-title">ì„ íƒ UIê°€ ì´ëŸ° ëŠë‚Œì´ì—ìš”</h2>
            <p class="pv-sub">ë¸”ë™ë¯¸ëŸ¬: ë°´ë”ìŠ¤ë‚´ì¹˜ ìŠ¤íƒ€ì¼ì˜ ì¸í„°ë™í‹°ë¸Œ ì†Œì„¤</p>
            <p class="pv-desc">
              íŠ¹ì • ì§€ì ë§ˆë‹¤ í™”ë©´ í•˜ë‹¨ì— ì„ íƒì§€ê°€ ë‚˜íƒ€ë‚˜ê³ , ìƒë‹¨ì˜ ì–‡ì€ ë°”ê°€
              <strong>ì•½ 10ì´ˆ</strong> ë™ì•ˆ ì„œì„œíˆ ì¤„ì–´ë“­ë‹ˆë‹¤. ì‹œê°„ì´ ë‹¤ ë˜ë©´ ê¸°ë³¸ ì„ íƒìœ¼ë¡œ ìë™ ì§„í–‰ë¼ìš”.
            </p>

            <div class="pv-chip-row">
              <span class="pv-chip">ì‹¤ì‹œê°„ ì„ íƒ</span>
              <span class="pv-chip">ìë™ ì§„í–‰</span>
              <span class="pv-chip">í‚¤ë³´ë“œ / í„°ì¹˜ ì§€ì›</span>
            </div>

            <div class="pv-scene">
              <div class="pv-still" aria-hidden="true"></div>
              <div class="pv-overlay">
                <div class="pv-choice-timer"><span id="pvBar"></span></div>
                <div class="pv-choice-buttons">
                  <button type="button">ì±…ì„ ì±™ê¸´ë‹¤</button>
                  <button type="button">ì±…ì„ ì±™ê¸°ì§€ ì•ŠëŠ”ë‹¤</button>
                </div>
                <p class="pv-help" id="pvHelp">
                  â† / â†’ ë¡œ ì„ íƒì„ ì˜®ê¸°ê³  Enter / Space ë¡œ ì§ì ‘ ì„ íƒí•´ ë³´ì„¸ìš”.
                </p>
              </div>
            </div>
            <p class="pv-caption">â€» ì‹¤ì œ í”Œë ˆì´ ì¤‘ ì„ íƒ êµ¬ê°„ì˜ ì˜ˆì‹œ í™”ë©´ì…ë‹ˆë‹¤.</p>
          </div>

          <aside class="pv-side">
            <h3 class="pv-side-title">ì–´ë–»ê²Œ ì¡°ì‘í•˜ë‚˜ìš”?</h3>
            <ul class="pv-steps">
              <li><span class="step-dot">1</span><span>ì„ íƒì§€ê°€ ë‚˜íƒ€ë‚˜ë©´, í™”ë©´ í•˜ë‹¨ì˜ ë‘ ë²„íŠ¼ ì¤‘ í•˜ë‚˜ë¥¼ ê³ ë¦…ë‹ˆë‹¤.</span></li>
              <li><span class="step-dot">2</span><span>ìƒë‹¨ ë°”ê°€ ëª¨ë‘ ì¤„ì–´ë“¤ê¸° ì „ì— ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤.</span></li>
              <li><span class="step-dot">3</span><span>ì‹œê°„ì´ ì§€ë‚˜ë©´ ê¸°ë³¸ ì„ íƒìœ¼ë¡œ ìë™ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.</span></li>
            </ul>
            <div class="pv-shortcuts">
              <div class="shortcut-row">
                <span class="shortcut-label">ì„ íƒ ì´ë™</span>
                <span class="shortcut-keys">
                  <kbd>â†</kbd><kbd>â†’</kbd>
                </span>
              </div>
              <div class="shortcut-row">
                <span class="shortcut-label">ì„ íƒ í™•ì •</span>
                <span class="shortcut-keys">
                  <kbd>Enter</kbd><kbd>Space</kbd>
                </span>
              </div>
              <div class="shortcut-row">
                <span class="shortcut-label">ëª¨ë°”ì¼</span>
                <span class="shortcut-keys">
                  ë²„íŠ¼ ì§ì ‘ <kbd>Tap</kbd>
                </span>
              </div>
            </div>
          </aside>
        </section>

        <!-- êµ¬ë¶„ì„  -->
        <div class="pv-divider"><span>TRAILER PREVIEW</span></div>

        <!-- ì•„ë˜ìª½: ì„¤ëª… í…ìŠ¤íŠ¸ + ì˜ìƒ -->
        <section class="pv-bottom">
          <div class="pv-bottom-left">
            <h3>ë¸”ë™ë¯¸ëŸ¬ ë°´ë”ìŠ¤ë‚´ì¹˜ê°€ ë­”ì§€ ëª¨ë¥´ì‹œê² ë‹¤ê³ ìš”?</h3>
            <p>ë„·í”Œë¦­ìŠ¤ì—ì„œ ì œê³µí•œ ì˜ˆê³ í¸ì„ í•œ ë²ˆ ì‹œì²­í•´ë³´ì„¸ìš”. ì‘í’ˆì˜ ë¶„ìœ„ê¸°ì™€ ì„ íƒ êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ ë§›ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          </div>
          <div class="pv-bottom-right">
            <div class="video-wrap">
              <video id="pvVideo" controls preload="none" poster="ì˜µì…˜.jpg" playsinline>
                <source data-src="ë¸”ë™ë¯¸ëŸ¬.mp4" type="video/mp4">
                ì´ ë¸Œë¼ìš°ì €ëŠ” ë™ì˜ìƒ ì¬ìƒì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
              </video>
            </div>
          </div>
        </section>

        <!-- ì˜ˆê³ í¸ ì´í›„: ì‹œì‘ ì•ˆë‚´ ì„¹ì…˜ -->
        <section class="pv-next">
          <div class="pv-next-left">
            <h4>ì´ì œ, ë‹¹ì‹ ì˜ ì²« ì„ íƒë§Œ ë‚¨ì•˜ì–´ìš”</h4>
            <p>
              ë°©ê¸ˆ ë³¸ ì˜ˆê³ í¸ì˜ ë¶„ìœ„ê¸°ê°€ ë§ˆìŒì— ë“¤ì—ˆë‹¤ë©´,
              ì´ì œëŠ” ì§ì ‘ ìŠ¤í† ë¦¬ë¥¼ ë§Œë“¤ì–´ ë³¼ ì°¨ë¡€ì…ë‹ˆë‹¤.
              ì´ ì‘í’ˆì€ í•œ ë²ˆì˜ í”Œë ˆì´ë¡œ ëë‚˜ì§€ ì•Šê³ ,
              ì„œë¡œ ë‹¤ë¥¸ ì„ íƒë“¤ì´ ë‹¤ë¥¸ ì¥ë©´ê³¼ ì—”ë”©ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.
            </p>
            <div class="pv-meta-row">
              <span class="pv-meta-chip">ê¶Œì¥ í”Œë ˆì´íƒ€ì„ Â· 30~45ë¶„</span>
              <span class="pv-meta-chip">ì—”ë”© ìˆ˜ Â· 5+</span>
              <span class="pv-meta-chip">ê¶Œì¥ í™˜ê²½ Â· PC + í—¤ë“œí°</span>
            </div>
          </div>

          <div class="pv-next-right">
            <p class="pv-next-right-title">ì‹œì‘í•˜ê¸° ì „ì— ì´ê²ƒë§Œ í™•ì¸í•´ ì£¼ì„¸ìš”</p>
            <ul class="pv-checklist">
              <li>ì†Œë¦¬ê°€ ë“¤ë¦¬ë„ë¡ ë³¼ë¥¨ì„ ì¼œ ë‘ì—ˆë‚˜ìš”?</li>
              <li>ì¤‘ê°„ì— ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì§„í–‰ ìƒí™©ì´ ì´ˆê¸°í™”ë  ìˆ˜ ìˆì–´ìš”.</li>
              <li>ì„ íƒì§€ëŠ” ì‹œê°„ ì œí•œì´ ìˆìœ¼ë‹ˆ, ë„ˆë¬´ ì˜¤ë˜ ê³ ë¯¼í•˜ì§€ ë§ˆì„¸ìš”.</li>
            </ul>
            <div class="pv-next-actions">
              <button type="button" class="pv-next-primary" id="pvStartFromPreview">
                â–¶ ì§€ê¸ˆ ì²« ì¥ë©´ìœ¼ë¡œ ì´ë™í•˜ê¸°
              </button>
              <button type="button" class="pv-next-secondary" id="pvReplayDemo">
                â†» ì„ íƒ íŠœí† ë¦¬ì–¼ ë‹¤ì‹œ ë³´ê¸°
              </button>
            </div>
          </div>
        </section>

        <!-- ì¶”ê°€ ìœ íŠœë¸Œ í´ë¦½ ì„¹ì…˜ -->
        <section class="pv-extra">
          <div class="pv-extra-header">
            <div class="pv-extra-eyebrow">MORE FROM BANDERSNATCH</div>
            <h3 class="pv-extra-title">ë°´ë”ìŠ¤ë‚´ì¹˜ê°€ ë” ê¶ê¸ˆí•˜ë‹¤ë©´?</h3>
            <p class="pv-extra-sub">
              ë©”ì´í‚¹ í•„ë¦„, ì¸í„°ë·°, ë¶„ì„ ì˜ìƒì„ í†µí•´ ì‘í’ˆì˜ ë’·ì´ì•¼ê¸°ë¥¼ ë” ê¹Šê²Œ ë³¼ ìˆ˜ ìˆì–´ìš”.
            </p>
          </div>

          <div class="pv-extra-grid">
            <!-- ì¹´ë“œ 1 : ê³µì‹ ì˜ˆê³ í¸ -->
            <a class="pv-extra-card"
               href="https://www.youtube.com/watch?v=wglNCdAM43A"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('ê³µì‹.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">ê³µì‹ íŠ¸ë ˆì¼ëŸ¬ (Netflix)</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">ë¶„ìœ„ê¸° ë¯¸ë¦¬ë³´ê¸°</span>
                  <span>2:30 Â· YouTube</span>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 2 : ë©”ì´í‚¹ í•„ë¦„ -->
            <a class="pv-extra-card"
               href="https://youtu.be/S85BBpp4liA?si=e9wNk1RlDI_O6Tp-"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('ì œì‘.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">ë¹„í•˜ì¸ë“œ: ì–´ë–»ê²Œ ë§Œë“¤ì–´ì¡Œì„ê¹Œ</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">ë©”ì´í‚¹</span>
                  <span>10:12 Â· ê°ë… & ì œì‘ì§„</span>
                </div>
              </div>
            </a>

            <!-- ì¹´ë“œ 3 : ì„ íƒ êµ¬ì¡° ë¶„ì„ -->
            <a class="pv-extra-card"
               href="https://youtu.be/HbXH_8O7P8M?si=43eOmLxOYaJie6-I"
               target="_blank" rel="noopener">
              <div class="pv-extra-thumb"
                   style="background-image:url('ë¶„ì„ì´ë¯¸ì§€.jpg');">
              </div>
              <div class="pv-extra-body">
                <p class="pv-extra-card-title">ê²°ë§ êµ¬ì¡° & ì„ íƒ ë£¨íŠ¸ ë¶„ì„</p>
                <div class="pv-extra-meta">
                  <span class="pv-extra-pill">ë¶„ì„</span>
                  <span>8:45 Â· íŒ¬ ì˜ìƒ</span>
                </div>
              </div>
            </a>
          </div>

          <p class="pv-extra-note">
            * ëª¨ë“  ë§í¬ëŠ” YouTube ìƒˆ íƒ­ì—ì„œ ì¬ìƒë©ë‹ˆë‹¤.
          </p>
        </section>

      </div>
    </div>
  </section>

  <!-- ===== BGM ===== -->
  <audio id="bgm" preload="auto" loop>
    <!-- âœ… íŒŒì¼ëª…ì„ bgm.mp3ë¡œ ë°”ê¾¸ë©´ ì•„ë˜ srcë§Œ bgm.mp3ë¡œ ë°”ê¾¸ë©´ ë©ë‹ˆë‹¤ -->
    <source src="bgm.mp3" type="audio/mpeg">
  </audio>
  <button id="bgmToggle" class="bgm-fab" type="button" aria-pressed="false" title="ë°°ê²½ìŒì•… í† ê¸€">ğŸ”‡ BGM OFF</button>



  <script>
    /* íŒ¨ëŸ´ë™ìŠ¤ */
    const bg = document.querySelector('.bg');
    const shade = document.querySelector('.shade');
    function parallax(x,y){
      const nx=(x/innerWidth)-.5;
      const ny=(y/innerHeight)-.5;
      const tx=nx*1.6, ty=ny*1.2;
      bg.style.transform=`scale(1.03) translate(${tx}%,${ty}%) rotate(${nx*.2}deg)`;
      shade.style.transform=`translate(${tx*.4}%,${ty*.4}%)`;
    }
    addEventListener('mousemove',e=>parallax(e.clientX,e.clientY));
    addEventListener('touchmove',e=>{
      const t=e.touches[0];
      parallax(t.clientX,t.clientY);
    },{passive:true});

    /* ë¨¼ì§€ ìƒì„± */
    (function(){
      const host=document.getElementById('dust');
      const COUNT=36;
      for(let i=0;i<COUNT;i++){
        const s=document.createElement('span');
        s.style.left=Math.random()*100+'vw';
        s.style.setProperty('--x',(Math.random()*20-10)+'vw');
        s.style.animationDuration=(16+Math.random()*12)+'s';
        s.style.animationDelay=(Math.random()*18)+'s';
        s.style.opacity=(0.03+Math.random()*0.07).toFixed(2);
        host.appendChild(s);
      }
    })();

    /* ë¡œë”©â†’Start.html */
    const loader=document.getElementById('loader'),
          barFill=document.getElementById('barFill'),
          percentEl=document.getElementById('percent'),
          statusEl=document.getElementById('statusText');

    function showLoader(){
      loader.classList.add('active');
      loader.setAttribute('aria-hidden','false');
      let p=0,i=0;
      const steps=[
        {to:20,label:'ì €ì¥ ì¤‘â€¦'},
        {to:55,label:'ë¦¬ì†ŒìŠ¤ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦'},
        {to:78,label:'ë¶„ê¸° ë°ì´í„° ë™ê¸°í™”â€¦'},
        {to:100,label:'ì¥ë©´ ì¤€ë¹„ ì™„ë£Œ'}
      ];
      (function tick(){
        const target=steps[i].to;
        p+=Math.max(1,Math.round((target-p)*.08));
        barFill.style.width=p+'%';
        percentEl.textContent=p;
        statusEl.textContent=steps[i].label;
        if(p>=target) i++;
        if(p<100){
          requestAnimationFrame(tick);
        }else{
          setTimeout(()=>{ location.href='Start.html'; },350);
        }
      })();
    }
    document.getElementById('btn-start').addEventListener('click', showLoader);

    /* ë¯¸ë¦¬ë³´ê¸° ì‹œíŠ¸ ê¸°ë³¸ */
    const pvBtn   = document.getElementById('btn-preview'),
          pvSheet = document.getElementById('previewSheet'),
          pvBack  = document.getElementById('previewBackdrop'),
          pvClose = document.getElementById('pvClose'),
          pvBar   = document.getElementById('pvBar');

    function openPreview(){
      pvBack.classList.add('open');
      pvSheet.classList.add('open');
      pvSheet.scrollTop=0;

      // ë¹„ë””ì˜¤ ì¦‰ì‹œ ë¡œë“œ
      const v=document.getElementById('pvVideo');
      const src=v.querySelector('source');
      if(src && src.dataset.src && !src.src){
        src.src=src.dataset.src;
        v.load();
      }

      // ì„ íƒ ë°ëª¨ ë¦¬ì…‹
      resetDemo();
    }

    function closePreview(){
      pvBack.classList.remove('open');
      pvSheet.classList.remove('open');
      stopDemo();
      if(pvBar) pvBar.style.transform='scaleX(1)';
      const v=document.getElementById('pvVideo');
      if(v){
        try{ v.pause(); }catch(e){}
      }
    }

    pvBtn.addEventListener('click', openPreview);
    pvClose.addEventListener('click', closePreview);
    pvBack.addEventListener('click', closePreview);

    /* ===== ë¯¸ë¦¬ë³´ê¸° ë‚´ ì„ íƒ ë°ëª¨ ===== */
    const pvButtons = document.querySelectorAll('.pv-choice-buttons button');
    const pvHelp    = document.getElementById('pvHelp');

    let demoActive = false;
    let demoLocked = false;
    let demoIndex  = 0;
    let demoStart  = 0;
    let demoRAF    = null;
    const DEMO_DUR = 6000;

    function setActiveChoice(i){
      demoIndex = i;
      pvButtons.forEach((btn,idx)=>{
        btn.classList.toggle('active', idx===demoIndex);
      });
    }

    function stopDemo(){
      demoActive = false;
      cancelAnimationFrame(demoRAF);
    }

    function resetDemo(){
      if(!pvBar || pvButtons.length<2 || !pvHelp) return;
      demoActive = true;
      demoLocked = false;
      demoStart  = performance.now();
      pvBar.style.transform='scaleX(1)';
      pvHelp.textContent='â† / â†’ ë¡œ ì„ íƒì„ ì˜®ê¸°ê³  Enter / Space ë¡œ ì§ì ‘ ì„ íƒí•´ ë³´ì„¸ìš”.';
      setActiveChoice(0);
      stopDemo();
      demoRAF = requestAnimationFrame(tickDemo);
    }

    function commitChoice(choiceText, reason){
      if(demoLocked) return;
      demoLocked = true;
      pvBar.style.transform='scaleX(0)';
      pvHelp.textContent = `${reason} [${choiceText}] ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œ í”Œë ˆì´ì—ì„  ê³§ë°”ë¡œ ë‹¤ìŒ ì¥ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ìš”.`;
      stopDemo();
      setTimeout(()=>{
        if(pvSheet.classList.contains('open')){
          resetDemo();
        }
      },2300);
    }

    function autoCommit(){
      const choiceText = pvButtons[0].textContent.trim();
      commitChoice(choiceText,'ì‹œê°„ì´ ì§€ë‚˜ ê¸°ë³¸ ì„ íƒìœ¼ë¡œ');
    }

    function tickDemo(now){
      if(!demoActive || demoLocked) return;
      const p = Math.min(1,(now-demoStart)/DEMO_DUR);
      pvBar.style.transform = `scaleX(${1-p})`;
      if(p>=1){
        autoCommit();
        return;
      }
      demoRAF = requestAnimationFrame(tickDemo);
    }

    // í‚¤ë³´ë“œ ì¡°ì‘
    window.addEventListener('keydown',(e)=>{
      if(e.key==='Escape') closePreview();
      if(e.key.toLowerCase()==='p') openPreview();

      if(!pvSheet.classList.contains('open')) return;
      if(demoLocked) return;

      if(e.key==='ArrowLeft'){
        e.preventDefault();
        setActiveChoice(0);
      }else if(e.key==='ArrowRight'){
        e.preventDefault();
        setActiveChoice(1);
      }else if(e.key==='Enter' || e.key===' '){
        e.preventDefault();
        const choiceText = pvButtons[demoIndex].textContent.trim();
        commitChoice(choiceText,'ì´ë ‡ê²Œ ì§ì ‘ ì„ íƒí•˜ë©´');
      }
    });

    // ë§ˆìš°ìŠ¤ë¡œë„ ëˆŒëŸ¬ë³´ê¸°
    pvButtons.forEach((btn,idx)=>{
      btn.addEventListener('click',()=>{
        if(!pvSheet.classList.contains('open') || demoLocked) return;
        setActiveChoice(idx);
        const choiceText = btn.textContent.trim();
        commitChoice(choiceText,'ë²„íŠ¼ì„ í´ë¦­í•´ì„œ');
      });
    });

    // ì˜ˆê³ í¸ ì´í›„ CTA ë²„íŠ¼ë“¤
    const pvStartFromPreview = document.getElementById('pvStartFromPreview');
    const pvReplayDemo      = document.getElementById('pvReplayDemo');

    if(pvStartFromPreview){
      pvStartFromPreview.addEventListener('click', ()=>{
        closePreview();
        showLoader();
      });
    }
    if(pvReplayDemo){
      pvReplayDemo.addEventListener('click', ()=>{
        if(pvSheet.classList.contains('open')){
          resetDemo();
          pvSheet.scrollTop = 0;
        }
      });
    }
  </script>

  <script>
    /* ===== BGM (PATCH) ===== */
    (function(){
      const bgm = document.getElementById('bgm');
      const btn = document.getElementById('bgmToggle');
      if(!bgm || !btn) return;

      bgm.volume = 0.22;
      bgm.muted = false;

      const KEY = 'bgm_enabled';
      let enabled = localStorage.getItem(KEY);
      if (enabled === null) enabled = '0'; // ê¸°ë³¸ OFF(ì›í•˜ë©´ '1'ë¡œ ë°”ê¾¸ê¸°)

      function sync(){
        const on = (enabled === '1') && !bgm.paused;
        btn.textContent = on ? 'ğŸ”Š BGM ON' : 'ğŸ”‡ BGM OFF';
        btn.setAttribute('aria-pressed', String(on));
      }

      async function play(){
        enabled = '1';
        localStorage.setItem(KEY,'1');
        try{ await bgm.play(); }catch(e){}
        sync();
      }
      function pause(){
        enabled = '0';
        localStorage.setItem(KEY,'0');
        try{ bgm.pause(); }catch(e){}
        sync();
      }

      // ë²„íŠ¼ í´ë¦­ = ì¬ìƒ/ì •ì§€
      btn.addEventListener('click', async (e)=>{
        e.preventDefault();
        e.stopPropagation();
        if (bgm.paused) await play();
        else pause();
      });

      // ë²„íŠ¼ ë§ê³  í™”ë©´ ì•„ë¬´ë°ë‚˜ ì²« í„°ì¹˜/í´ë¦­ ì‹œ, enabled=1ì´ë©´ ì¬ìƒ ì‹œë„(ìë™ì¬ìƒ ì •ì±… ëŒ€ì‘)
      document.addEventListener('pointerdown', async (e)=>{
        if (e.target.closest('#bgmToggle')) return;
        if (enabled === '1' && bgm.paused) {
          try{ await bgm.play(); }catch(_){}
          sync();
        }
      }, { once:true });

      // pvVideoê°€ ìˆìœ¼ë©´ ì˜ìƒ ì¬ìƒ ì‹œ BGM ë©ˆì¶¤(ê²¹ì¹¨ ë°©ì§€)
      const pvVideo = document.getElementById('pvVideo');
      let resumeAfterVideo = false;
      if(pvVideo){
        pvVideo.addEventListener('play', ()=>{
          if(!bgm.paused){
            resumeAfterVideo = true;
            try{ bgm.pause(); }catch(_){}
            sync();
          }
        });
        const maybeResume = async ()=>{
          if(resumeAfterVideo && enabled === '1'){
            resumeAfterVideo = false;
            try{ await bgm.play(); }catch(_){}
            sync();
          }
        };
        pvVideo.addEventListener('pause', maybeResume);
        pvVideo.addEventListener('ended', maybeResume);
      }

      // ì‹œì‘ ìƒíƒœ UI
      sync();
    })();
  </script>

</body>
</html>
